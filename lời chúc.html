<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merry Christmas Greeting</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap');

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            background: #060606;
            display: flex; justify-content: center; align-items: center;
            overflow: hidden;
            color: white;
            font-family: 'Segoe UI', sans-serif;
        }

        #glass-card {
            position: relative;
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            padding: 40px;
            text-align: center;
            width: 85%;
            max-width: 600px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            z-index: 10;
            animation: floating 5s ease-in-out infinite;
        }

        input {
            width: 80%; padding: 12px; margin: 20px 0;
            border-radius: 10px; border: 1px solid #FFD700;
            background: rgba(255,255,255,0.1); color: white;
            text-align: center; font-size: 1.1rem; outline: none;
        }
        button {
            padding: 12px 30px; border-radius: 25px; border: none;
            background: linear-gradient(45deg, #FFD700, #B8860B);
            color: black; font-weight: bold; cursor: pointer; transition: 0.3s;
        }
        button:hover { transform: scale(1.05); box-shadow: 0 0 15px #FFD700; }

        .greeting-text {
            font-family: 'Dancing Script', 'Segoe UI', cursive;
            font-size: clamp(1.4rem, 4vw, 2.1rem);
            background: linear-gradient(135deg, #FFD700 0%, #FFF8DC 50%, #FFD700 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
            line-height: 1.6;
        }

        .sub-text {
            margin-top: 20px;
            font-size: 0.8rem;
            color: #666;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        @keyframes floating {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .snow-dot {
            position: absolute; background: white; border-radius: 50%; opacity: 0.5;
            pointer-events: none; animation: fall linear infinite;
        }
        @keyframes fall {
            to { transform: translateY(100vh); }
        }

        .typed-cursor {
            color: #FFD700;
        }
    </style>
</head>
<body>

    <div id="glass-card">
        <div id="input-area">
            <h2 style="color: #FFD700; font-family: 'Dancing Script'; font-size: 2.5rem;">GiÃ¡ng Sinh cuá»‘i cáº¥p, <br> Báº¡n tÃªn lÃ  gÃ¬?</h2>
            <input type="text" id="nameInput" placeholder="Nháº­p Ä‘áº§y Ä‘á»§ há» vÃ  tÃªn..." autocomplete="off">
            <br>
            <button onclick="startMagic()">Xem Ä‘iá»u báº¥t ngá»</button>
        </div>

        <div id="display-area" style="display: none;">
            <div class="greeting-text" id="typed"></div>
            <div class="sub-text">A miracle is about to unfold...</div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js"></script>
<script>
        // HÃ m lÃ m sáº¡ch vÄƒn báº£n: Bá» dáº¥u tiáº¿ng Viá»‡t vÃ  chuáº©n hÃ³a vá» chá»¯ thÆ°á»ng
        function getCleanText(str) {
            if (!str) return "";
            str = str.replace(/Ã |Ã¡|áº¡|áº£|Ã£|Ã¢|áº§|áº¥|áº­|áº©|áº«|Äƒ|áº±|áº¯|áº·|áº³|áºµ/g, "a");
            str = str.replace(/Ã¨|Ã©|áº¹|áº»|áº½|Ãª|á»|áº¿|á»‡|á»ƒ|á»…/g, "e");
            str = str.replace(/Ã¬|Ã­|á»‹|á»‰|Ä©/g, "i");
            str = str.replace(/Ã²|Ã³|á»|á»|Ãµ|Ã´|á»“|á»‘|á»™|á»•|á»—|Æ¡|á»|á»›|á»£|á»Ÿ|á»¡/g, "o");
            str = str.replace(/Ã¹|Ãº|á»¥|á»§|Å©|Æ°|á»«|á»©|á»±|á»­|á»¯/g, "u");
            str = str.replace(/á»³|Ã½|á»µ|á»·|á»¹/g, "y");
            str = str.replace(/Ä‘/g, "d");
            return str.toLowerCase().trim();
        }

        function startMagic() {
            const fullName = document.getElementById('nameInput').value.trim();
            if (!fullName) {
                alert("HÃ£y nháº­p tÃªn nhÃ©!");
                return;
            }

            const cleanFull = getCleanText(fullName);
            const nameParts = fullName.split(/\s+/);
            const firstName = getCleanText(nameParts[nameParts.length - 1]);
            const fullID = cleanFull.replace(/\s+/g, "");

            let selectedWish = "";
            let userType = "lop"; // Máº·c Ä‘á»‹nh lÃ  album lá»›p

            // 1. KIá»‚M TRA Náº¾U LÃ€ THáº¦Y TUáº¤N ANH
            if (cleanFull.includes("tuan anh")) {
                userType = "thay"; // XÃ¡c Ä‘á»‹nh lÃ  album tháº§y
                selectedWish = `KÃ­nh gá»­i Tháº§y Tuáº¥n Anh! ğŸ„ <br> Cáº£m Æ¡n Tháº§y Ä‘Ã£ dÃ¬u dáº¯t chÃºng em suá»‘t nÄƒm lá»›p 12. ^500 <br> ChÃºc Tháº§y GiÃ¡ng Sinh an lÃ nh, dá»“i dÃ o sá»©c khá»e Ä‘á»ƒ cÃ¹ng chÃºng em vá» Ä‘Ã­ch thÃ nh cÃ´ng! âœ¨`;
            } 
            else {
                // 2. Náº¾U LÃ€ Há»ŒC SINH (CHIA NAM/Ná»® Äá»‚ Láº¤Y Lá»œI CHÃšC)
                userType = "lop"; // XÃ¡c Ä‘á»‹nh lÃ  album lá»›p
                const listNuGoc = ["ngoc han", "my han", "thu huong", "bao ngoc", "nhu ngoc", "tieu phung", "minh thu", "thu trang", "ngoc tram", "cam tu", "thanh phuong"];
                const laNu = listNuGoc.some(tenNu => cleanFull.includes(tenNu));

                if (laNu) {
                    const wishesNu = [
                        `ChÃ o ${fullName}! â„ï¸ <br> ChÃºc báº¡n Ã´n thi hiá»‡u quáº£, Ä‘á»— Ä‘Ãºng nguyá»‡n vá»ng 1 nhÃ©! âœ¨`,
                        `${fullName} Æ¡i! ğŸ„ <br> GiÃ¡ng Sinh vui váº»! LuÃ´n giá»¯ vá»¯ng phong Ä‘á»™ há»c táº­p Ä‘á»ƒ cÃ¡ chÃ©p hÃ³a rá»“ng! â¤ï¸`,
                        `Gá»­i ${fullName}, ğŸ <br> Noel áº¥m Ã¡p nhÃ©! ChÃºc báº¡n xá»­ gá»n Ä‘á»‘ng Ä‘á» cÆ°Æ¡ng vÃ  Ä‘áº¡t Ä‘iá»ƒm cao! âœ¨`,
                        `Merry Christmas, ${fullName}! â„ï¸ <br> ChÃºc báº¡n tá»± tin Ä‘á»ƒ vÆ°á»£t qua cÃ¡c ká»³ thi sáº¯p tá»›i tháº­t nháº¹ nhÃ ng!`,
                        `ChÃºc ${fullName} ğŸŒŸ <br> LuÃ´n ráº¡ng rá»¡ vÃ  cáº§m cháº¯c táº¥m vÃ© vÃ o trÆ°á»ng Äáº¡i há»c mÆ¡ Æ°á»›c nhÃ©!`,
                        `${fullName} thÃ¢n máº¿n! ğŸ„ <br> Noel cuá»‘i cáº¥p rá»“i, xáº£ stress má»™t chÃºt rá»“i quay láº¡i chiáº¿n Ä‘áº¥u thÃ´i!`,
                        `ChÃ o ${fullName}! â„ï¸ <br> ChÃºc báº¡n há»c giá»i, thi tá»‘t vÃ  luÃ´n lÃ  niá»m tá»± hÃ o cá»§a lá»›p!`,
                        `${fullName} Ã ! ğŸ <br> Noel vui váº», bá»›t Ã¡p lá»±c láº¡i vÃ  táº­p trung cao Ä‘á»™ Ä‘á»ƒ thÃ nh cÃ´ng nhÃ©!`,
                        `Gá»­i tá»›i ${fullName}, â¤ï¸ <br> ChÃºc báº¡n má»™t mÃ¹a Ä‘Ã´ng áº¥m lÃ²ng vÃ  thi cá»­ thuáº­n lá»£i nháº¥t!`,
                        `Merry Xmas, ${fullName}! ğŸ§¸ <br> ChÃºc báº¡n sá»›m nháº­n Ä‘Æ°á»£c tin vui Ä‘á»— Äáº¡i há»c nhÆ° mong Ä‘á»£i! âœ¨`
                    ];
                    selectedWish = wishesNu[Math.floor(Math.random() * wishesNu.length)];
                } else {
                    const wishesNam = [
                        `ChÃ o ${fullName}! â„ï¸ <br> Noel chÃ¡y nhÃ©! ChÃºc Ã´ng thi Ä‘Ã¢u Ä‘á»— Ä‘Ã³, phong Ä‘á»™ vá»¯ng vÃ ng! âœ¨`,
                        `${fullName} Æ¡i! ğŸ„ <br> GiÃ¡ng Sinh an lÃ nh! Sá»›m cÃ³ "gáº¥u" sÆ°á»Ÿi áº¥m vÃ  Ä‘á»— nguyá»‡n vá»ng 1! â¤ï¸`,
                        `Gá»­i ${fullName}, ğŸ <br> ChÃºc Ã´ng Ã´n thi hiá»‡u quáº£, sá»›m trá»Ÿ thÃ nh TÃ¢n sinh viÃªn trÆ°á»ng Top! âœ¨`,
                        `Merry Christmas, ${fullName}! â„ï¸ <br> Máº¡nh máº½ lÃªn, cÃ¡nh cá»­a Äáº¡i há»c Ä‘ang chá» Ã´ng chinh phá»¥c!`,
                        `ChÃºc ${fullName} ğŸŒŸ <br> Giá»¯ vá»¯ng báº£n lÄ©nh, há»c táº­p xuyÃªn Ä‘Ãªm vÃ  Ä‘á»— NV1 xuáº¥t sáº¯c nhÃ©!`,
                        `ChÃ o chiáº¿n há»¯u ${fullName}! ğŸ„ <br> Noel vui, táº­p trung cao Ä‘á»™ cho ká»³ thi sáº¯p tá»›i nÃ o!`,
                        `ChÃºc ${fullName} â„ï¸ <br> CÃ³ mÃ¹a Noel Ã½ nghÄ©a vÃ  Ä‘áº¡t Ä‘iá»ƒm tuyá»‡t Ä‘á»‘i mÃ´n sá»Ÿ trÆ°á»ng!`,
                        `${fullName} thÃ¢n máº¿n! ğŸ <br> Nghá»‰ xáº£ hÆ¡i chÃºt rá»“i quay láº¡i "cÃ y" Ä‘á»ƒ hÃ³a rá»“ng nhÃ©! ğŸ‰`,
                        `Gá»­i ${fullName}, â¤ï¸ <br> ChÃºc Ã´ng trÃ n Ä‘áº§y nÄƒng lÆ°á»£ng Ä‘á»ƒ vÆ°á»£t qua thá»­ thÃ¡ch lá»›p 12!`,
                        `Merry Xmas, ${fullName}! ğŸ¥‚ <br> NÃ¢ng ly cho tÆ°Æ¡ng lai ráº¡ng ngá»i phÃ­a trÆ°á»›c cá»§a Ã´ng!`,
                        `ChÃºc ${fullName} ğŸŒŸ <br> May máº¯n luÃ´n Ä‘á»“ng hÃ nh trong tá»«ng con sá»‘ Ä‘Ãªm nay!`,
                        `${fullName} Ã ! â„ï¸ <br> ChÃºc chÃ ng trai lá»›p mÃ¬nh kiÃªn trÃ¬ vá»›i Ä‘am mÃª vÃ  thÃ nh cÃ´ng!`,
                        `Gá»­i ${fullName}, ğŸ <br> ChÃºc Ã´ng Noel áº¥m, tÃ¢m tháº¿ vá»¯ng Ä‘á»ƒ chiáº¿n Ä‘áº¥u thi cá»­!`,
                        `Merry Christmas, ${fullName}! ğŸ„ <br> ChÃºc Ã´ng há»c giá»i, Ä‘áº¹p trai vÃ  sá»›m thÃ nh cÃ´ng!`,
                        `ChÃºc ${fullName} ğŸˆ <br> CÃ³ nhá»¯ng phÃºt giÃ¢y thÆ° giÃ£n tháº­t sá»± trÆ°á»›c cuá»™c Ä‘ua lá»›n!`,
                        `ChÃ o ${fullName}! â„ï¸ <br> Noel an lÃ nh! ChÃºc Ã´ng Ä‘áº¡t káº¿t quáº£ cao nháº¥t ká»³ thi tá»›i!`,
                        `${fullName} thÃ¢n máº¿n! âœ¨ <br> Mong phÃ©p mÃ u Noel giÃºp Ã´ng Ä‘á»— vÃ o trÆ°á»ng háº±ng mong Æ°á»›c!`,
                        `Gá»­i ${fullName}, ğŸ§¸ <br> ChÃºc Ã´ng luÃ´n tá»± tin, quyáº¿t Ä‘oÃ¡n trong má»i bÃ i thi!`,
                        `Merry Xmas, ${fullName}! ğŸ€ <br> Cáº£m Æ¡n Ã´ng Ä‘Ã£ cÃ¹ng Ä‘á»“ng hÃ nh suá»‘t 3 nÄƒm qua!`,
                        `ChÃºc ${fullName} ğŸŒŸ <br> Noel áº¥m, há»c táº­p bá»©t phÃ¡, tÆ°Æ¡ng lai ráº¡ng ngá»i!`,
                        `ChÃ o ${fullName}! ğŸ„ <br> ChÃºc Ã´ng báº£n lÄ©nh nhÆ° chiáº¿n binh, Ä‘á»— trÆ°á»ng Top nhÃ©!`,
                        `${fullName} Æ¡i! â„ï¸ <br> Noel vui váº»! LuÃ´n láº¡c quan vÃ  yÃªu Ä‘á»i nhÆ° tháº¿ nhÃ©!`,
                        `Gá»­i tá»›i ${fullName}, â¤ï¸ <br> ChÃºc Ã´ng trÆ°á»Ÿng thÃ nh vÃ  vá»¯ng vÃ ng trÃªn con Ä‘Æ°á»ng Ä‘Ã£ chá»n!`,
                        `Merry Christmas, ${fullName}! ğŸ <br> Nháº­n sá»›m giáº¥y bÃ¡o nháº­p há»c lÃ m quÃ  Noel nhÃ©!`,
                        `ChÃºc ${fullName} ğŸŒŸ <br> Bá»©t phÃ¡ máº¡nh máº½ vÃ  gáº·t hÃ¡i thÃ nh cÃ´ng ngoÃ i mong Ä‘á»£i!`,
                        `ChÃ o ${fullName}! ğŸ  <br> Noel an lÃ nh! Giá»¯ vá»¯ng tinh tháº§n Ä‘á»ƒ chiáº¿n tháº¯ng ká»³ thi!`,
                        `${fullName} thÃ¢n máº¿n! ğŸ•¯ï¸ <br> Mong Ã¡nh sÃ¡ng Noel soi lá»‘i cho Ã´ng Ä‘i Ä‘áº¿n thÃ nh cÃ´ng!`,
                        `Gá»­i ${fullName}, âœ¨ <br> ChÃºc Ã´ng má»™t mÃ¹a Ä‘Ã´ng áº¥m lÃ²ng bÃªn nhá»¯ng ngÆ°á»i thÃ¢n thÆ°Æ¡ng!`,
                        `Merry Xmas, ${fullName}! ğŸš€ <br> Tiáº¿n vá» phÃ­a trÆ°á»›c, thÃ nh cÃ´ng Ä‘ang chá» Ã´ng!`,
                        `ChÃºc ${fullName} ğŸ¥‚ <br> Má»™t Ä‘Ãªm GiÃ¡ng Sinh tuyá»‡t vá»i vÃ  Ä‘áº§y dá»± Ä‘á»‹nh má»›i máº»!`
                    ];
                    selectedWish = wishesNam[Math.floor(Math.random() * wishesNam.length)];
                }
            }

            // LÆ¯U Dá»® LIá»†U VÃ€O MÃY
            localStorage.setItem('visitorName', firstName);
            localStorage.setItem('visitorID', fullID);
            localStorage.setItem('userType', userType); // QUAN TRá»ŒNG: LÆ°u loáº¡i lÃ  'thay' hoáº·c 'lop'

            // Hiá»‡u á»©ng chuyá»ƒn cáº£nh
            document.getElementById('input-area').style.display = 'none';
            document.getElementById('display-area').style.display = 'block';

            new Typed('#typed', {
                strings: [selectedWish],
                typeSpeed: 45,
                showCursor: true,
                onComplete: function() {
                    setTimeout(function() {
                        $('body').fadeOut(1000, function() {
                            window.location.href = "noel1.html"; 
                        });
                    }, 3500);
                }
            });
        }

        // Tuyáº¿t rÆ¡i (giá»¯ nguyÃªn)
        $(document).ready(function() {
            for (let i = 0; i < 60; i++) {
                let dot = document.createElement('div');
                dot.className = 'snow-dot';
                dot.style.left = Math.random() * 100 + 'vw';
                dot.style.top = -10 + 'px';
                dot.style.width = dot.style.height = Math.random() * 3 + 2 + 'px';
                dot.style.animationDuration = Math.random() * 3 + 5 + 's';
                dot.style.animationDelay = Math.random() * 5 + 's';
                document.body.appendChild(dot);
            }
        });
    </script>
  
</body>
</html>